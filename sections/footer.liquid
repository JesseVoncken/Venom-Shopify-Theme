{% comment %}
  Section: Venom Custom Footer
  Description: A dark, 3-column footer with newsletter, social icons, and payment methods.
{% endcomment %}

<footer class="venom-footer">
  <div class="page-width">
    <div class="footer__top">
      <div class="footer__col footer__col--info">
        {%- if section.settings.col1_heading != blank -%}
          <h4 class="footer__heading">{{ section.settings.col1_heading | escape }}</h4>
        {%- endif -%}
        <div class="footer__text">
          {{ section.settings.col1_text }}
        </div>
      </div>

      <div class="footer__col footer__col--menu">
        {%- if section.settings.col2_heading != blank -%}
          <h4 class="footer__heading">{{ section.settings.col2_heading | escape }}</h4>
        {%- endif -%}
        <ul class="footer__menu-list">
          {%- for link in section.settings.menu.links -%}
            <li>
              <a href="{{ link.url }}" class="footer__menu-link">{{ link.title }}</a>
            </li>
          {%- endfor -%}
        </ul>
      </div>

      <div class="footer__col footer__col--newsletter">
        {%- if section.settings.col3_heading != blank -%}
          <h4 class="footer__heading">{{ section.settings.col3_heading | escape }}</h4>
        {%- endif -%}

        <div class="footer__text">
          {{ section.settings.col3_text }}
        </div>

        {%- form 'customer', id: 'FooterNewsletter', class: 'footer__newsletter-form' -%}
          <input type="hidden" name="contact[tags]" value="newsletter">
          <div class="newsletter-form__field-wrapper">
            <input
              id="NewsletterForm--{{ section.id }}"
              type="email"
              name="contact[email]"
              class="newsletter-input"
              value="{{ form.email }}"
              aria-required="true"
              autocorrect="off"
              autocapitalize="off"
              autocomplete="email"
              {% if form.errors %}
                autofocus
                aria-invalid="true"
                aria-describedby="FooterNewsletter-error"
              {% elsif form.posted_successfully? %}
                aria-describedby="FooterNewsletter-success"
              {% endif %}
              placeholder="Your email"
              required
            >
            <button type="submit" class="newsletter-btn" name="commit" aria-label="Subscribe">Subscribe</button>
          </div>
          {%- if form.errors -%}
            <small class="newsletter-message error">
              {{- form.errors.translated_fields.email | capitalize }}
              {{ form.errors.messages.email -}}
            </small>
          {%- endif -%}
          {%- if form.posted_successfully? -%}
            <small class="newsletter-message success">Thanks for subscribing!</small>
          {%- endif -%}
        {%- endform -%}
      </div>
    </div>

    <div class="footer__divider"></div>

    <div class="footer__bottom">
      <div class="footer__bottom-left">
        <div class="footer__localization">
          {%- form 'localization', id: 'FooterCountryForm', class: 'localization-form' -%}
            <div class="no-js-hidden">
              <div class="disclosure">
                <button
                  type="button"
                  class="disclosure__button localization-form__select localization-selector"
                  aria-expanded="false"
                  aria-controls="FooterCountryList"
                  aria-describedby="FooterCountryLabel"
                >
                  {{ localization.country.name }} ({{ localization.country.currency.iso_code }}
                  {{ localization.country.currency.symbol }})
                  <svg
                    aria-hidden="true"
                    focusable="false"
                    role="presentation"
                    class="icon icon-caret"
                    viewBox="0 0 10 6"
                    width="10"
                  >
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.354.646a.5.5 0 00-.708 0L5 4.293 1.354.646a.5.5 0 00-.708.708l4 4a.5.5 0 00.708 0l4-4a.5.5 0 000-.708z" fill="currentColor">
                  </svg>
                </button>
                <ul id="FooterCountryList" role="list" class="disclosure__list list-unstyled" hidden>
                  {%- for country in localization.available_countries -%}
                    <li class="disclosure__item" tabindex="-1">
                      <a
                        class="disclosure__link link link--text caption-large{% if country.iso_code == localization.country.iso_code %} disclosure__link--active{% endif %} focus-inset"
                        href="#"
                        {% if country.iso_code == localization.country.iso_code %}
                          aria-current="true"
                        {% endif %}
                        data-value="{{ country.iso_code }}"
                      >
                        {{ country.name }}
                        <span class="localization-form__currency"
                          >({{ country.currency.iso_code }}
                          {{ country.currency.symbol }})</span
                        >
                      </a>
                    </li>
                  {%- endfor -%}
                </ul>
              </div>
              <input type="hidden" name="country_code" value="{{ localization.country.iso_code }}">
            </div>
          {%- endform -%}
        </div>

        <div class="footer__copyright">
          <small class="copyright__content"
            >&copy; {{ 'now' | date: '%Y' }}
            {{ shop.name | escape -}}
          </small>
          <small class="copyright__content">POWERED BY SHOPIFY</small>
        </div>
      </div>

      <div class="footer__bottom-center">
        <h5 class="footer__small-heading">FOLLOW US</h5>
        <ul class="footer__list-social list-unstyled list-social" role="list">
          {%- if settings.social_instagram_link != blank -%}
            <li class="list-social__item">
              <a href="{{ settings.social_instagram_link }}" class="link list-social__link">
                <svg
                  aria-hidden="true"
                  focusable="false"
                  role="presentation"
                  class="icon icon-instagram"
                  viewBox="0 0 18 18"
                  width="20"
                  height="20"
                  fill="currentColor"
                >
                  <path fill="currentColor" d="M8.77 1.58c2.34 0 2.62.01 3.54.05.85.04 1.31.18 1.62.3.4.16.7.35 1.01.66.3.3.5.6.65 1 .12.3.26.77.3 1.62.05.92.06 1.2.06 3.54s-.01 2.62-.05 3.54c-.04.85-.18 1.31-.3 1.62-.16.4-.35.7-.66 1.01-.3.3-.6.5-1 .65-.3.12-.77.26-1.62.3-.92.05-1.2.06-3.54.06s-2.62-.01-3.54-.05c-.85-.04-1.31-.18-1.62-.3-.4-.16-.7-.35-1.01-.66-.3-.3-.5-.6-.65-1-.12-.3-.26-.77-.3-1.62-.05-.92-.06-1.2-.06-3.54s.01-2.62.05-3.54c.04-.85.18-1.31.3-1.62.16-.4.35-.7.66-1.01.3-.3.6-.5 1-.65.12-.3.77-.26 1.62-.3.92-.05 1.2-.06 3.54-.06zm0-1.58C6.39 0 6.09.01 5.15.05c-.93.04-1.57.2-2.13.42-.58.22-1.07.52-1.56 1.01C.97 1.97.67 2.46.45 3.03c-.22.56-.37 1.19-.42 2.13C-.01 6.09 0 6.39 0 8.77s.01 2.68.05 3.61c.04.94.2 1.57.42 2.13.22.58.52 1.07 1.01 1.56.49.49.98.79 1.55 1.01.56.22 1.19.37 2.13.42.94.04 1.24.05 3.62.05 2.38 0 2.68-.01 3.61-.05.94-.04 1.57-.2 2.13-.42.58-.22 1.07-.52 1.56-1.01.49-.49.79-.98 1.01-1.55.22-.56.37-1.19.42-2.13.04-.94.05-1.24.05-3.62s-.01-2.68-.05-3.61c-.04-.94-.2-1.57-.42-2.13-.22-.58-.52-1.07-1.01-1.56-.49-.49-.98-.79-1.55-1.01-.56-.22-1.19-.37-2.13-.42-.93-.04-1.23-.05-3.61-.05z"/><path fill="currentColor" d="M8.77 4.27c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5 4.5-2.02 4.5-4.5-2.02-4.5-4.5-4.5zm0 7.42c-1.61 0-2.92-1.31-2.92-2.92s1.31-2.92 2.92-2.92 2.92 1.31 2.92 2.92-1.31 2.92-2.92 2.92z"/><circle fill="currentColor" cx="13.43" cy="4.24" r="1.06"/>
                </svg>
              </a>
            </li>
          {%- endif -%}
          {%- if settings.social_youtube_link != blank -%}
            <li class="list-social__item">
              <a href="{{ settings.social_youtube_link }}" class="link list-social__link">
                <svg
                  aria-hidden="true"
                  focusable="false"
                  role="presentation"
                  class="icon icon-youtube"
                  viewBox="0 0 20 20"
                  width="22"
                  height="22"
                  fill="currentColor"
                >
                  <path d="M19.7 6.4a2.5 2.5 0 00-1.8-1.8C16.3 4 10 4 10 4s-6.3 0-7.9.6c-1 .3-1.6.9-1.8 1.8C0 8 0 11.3 0 11.3s0 3.3.3 4.9c.2.9.9 1.5 1.8 1.8 1.6.6 7.9.6 7.9.6s6.3 0 7.9-.6c1-.3 1.6-.9 1.8-1.8.3-1.6.3-4.9.3-4.9s0-3.3-.3-4.9zM8 13.5V9l4.2 2.3-4.2 2.2z" fill="currentColor"/>
                </svg>
              </a>
            </li>
          {%- endif -%}
        </ul>

        <button class="shop-app-btn"><span class="shop-icon">Shop</span> Follow on <strong>shop</strong></button>
      </div>

      <div class="footer__bottom-right">
        <h5 class="footer__small-heading">WE ACCEPT</h5>
        <div class="footer__payment">
          <ul class="list list-payment" role="list">
            {%- for type in shop.enabled_payment_types -%}
              <li class="list-payment__item">
                {{ type | payment_type_svg_tag: class: 'icon icon--full-color' }}
              </li>
            {%- endfor -%}
          </ul>
        </div>
        {% if section.settings.show_made_with %}
          <small class="made-with-text">Made with Dyad</small>
        {% endif %}
      </div>
    </div>
  </div>
</footer>

<style>
  .venom-footer {
    background-color: {{ section.settings.bg_color }};
    color: {{ section.settings.text_color }};
    padding: 60px 0 30px;
    font-size: 14px;
  }

  /* --- TOP ROW --- */
  .footer__top {
    display: grid;
    grid-template-columns: 1.2fr 1fr 1fr;
    gap: 40px;
    margin-bottom: 40px;
  }

  .footer__heading {
    display: block;
    font-size: 14px;
    color: {{ section.settings.heading_color }};
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 10px;
    font-family: var(--font-body-family);
    font-style: var(--font-body-style);
    font-weight: bold;
  }

  .footer__text p {
    margin: 0 0 15px;
    line-height: 1.6;
    color: #ccc;
  }

  /* Menu */
  .footer__menu-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .footer__menu-link {
    text-decoration: none;
    color: #ccc;
    display: block;
    margin-bottom: 12px;
    transition: color 0.2s;
  }
  .footer__menu-link:hover {
    color: white;
  }

  /* Newsletter */
  .footer__newsletter-form {
    margin-top: 15px;
  }
  .newsletter-input {
    width: 100%;
    background: #333;
    border: 1px solid #444;
    color: white;
    padding: 12px 15px;
    margin-bottom: 10px;
    border-radius: 2px;
  }
  .newsletter-btn {
    background-color: {{ section.settings.accent_color }}; /* Bright Blue */
    color: white;
    border: none;
    padding: 12px 25px;
    font-weight: bold;
    cursor: pointer;
    border-radius: 2px;
    transition: background 0.2s;
    width: 100%; /* Full width button on mobile/desktop per image */
  }
  .newsletter-btn:hover {
    opacity: 0.9;
  }

  /* Divider */
  .footer__divider {
    height: 1px;
    background-color: #222;
    margin: 0 0 40px;
    width: 100%;
  }

  /* --- BOTTOM ROW --- */
  .footer__bottom {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 20px;
    align-items: start;
  }

  /* Bottom Left */
  .disclosure__button {
    background: #222;
    border: 1px solid #333;
    color: white;
    padding: 10px 15px;
    border-radius: 2px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 13px;
  }
  .footer__copyright {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    gap: 5px;
    color: #666;
    font-size: 11px;
    text-transform: uppercase;
  }

  /* Bottom Center */
  .footer__bottom-center {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .footer__small-heading {
    font-size: 12px;
    color: #888;
    margin-bottom: 15px;
    text-transform: uppercase;
    font-weight: bold;
  }
  .list-social {
    display: flex;
    gap: 15px;
    list-style: none;
    padding: 0;
    margin: 0 0 20px 0;
  }
  .list-social__link {
    color: white;
    background: #222;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: background 0.3s;
  }
  .list-social__link:hover {
    background: {{ section.settings.accent_color }};
  }

  /* Mockup Shop Button */
  .shop-app-btn {
    background: #5a31f4;
    color: white;
    border: none;
    padding: 8px 20px;
    border-radius: 20px;
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 5px;
    cursor: default; /* Since it's a mockup */
  }
  .shop-icon {
    font-family: sans-serif;
    font-weight: 900;
  }

  /* Bottom Right */
  .footer__bottom-right {
    text-align: right;
  }
  .list-payment {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-end;
    gap: 8px;
    list-style: none;
    padding: 0;
    margin: 0 0 10px;
  }
  .list-payment__item .icon {
    width: 38px;
  }
  .made-with-text {
    color: #444;
    font-size: 12px;
  }

  /* --- RESPONSIVE --- */
  @media (max-width: 900px) {
    .footer__top, .footer__bottom {
      grid-template-columns: 1fr;
      text-align: center;
    }
    .newsletter-btn { width: 100%; }
    .footer__bottom-center, .footer__bottom-right, .footer__bottom-left {
      align-items: center;
      text-align: center;
    }
    .list-payment { justify-content: center; }
  }
</style>

{% schema %}
{
  "name": "Custom Footer",
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#007bff"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent / Button Color",
      "default": "#00c3ff"
    },
    {
      "type": "header",
      "content": "Column 1: Info"
    },
    {
      "type": "text",
      "id": "col1_heading",
      "label": "Heading",
      "default": "PREMIUM PRODUCTS FOR AN AFFORDABLE PRICE"
    },
    {
      "type": "richtext",
      "id": "col1_text",
      "label": "Text",
      "default": "<p>LEGOÂ® is a trademark of the LEGO Group which does not authorize, endorse or are liable for any products sold on this website.</p>"
    },
    {
      "type": "header",
      "content": "Column 2: Menu"
    },
    {
      "type": "text",
      "id": "col2_heading",
      "label": "Heading",
      "default": "FOOTER MENU"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu",
      "default": "footer"
    },
    {
      "type": "header",
      "content": "Column 3: Newsletter"
    },
    {
      "type": "text",
      "id": "col3_heading",
      "label": "Heading",
      "default": "SUBSCRIBE TO OUR NEWSLETTER!"
    },
    {
      "type": "richtext",
      "id": "col3_text",
      "label": "Text",
      "default": "<p>Receive Updates On Events Happening At Venom Custom Brick Works!</p>"
    },
    {
      "type": "checkbox",
      "id": "show_made_with",
      "label": "Show 'Made with Dyad'",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Custom Footer"
    }
  ]
}
{% endschema %}
